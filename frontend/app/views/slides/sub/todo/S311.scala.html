@slide(title = "map") {
    <!--map-->

    <div class="sidebyside p66_33">
        @sourcecode(fragment = false) {
            |trait Traversable[A] {
            |  def map[B](f: (A) => B): Traversable[B]
            |}
        }
        @empty()
    </div>

    <hr/><hr/>

    @snippet(id = "map_passengers") {
        @sourceblock() {
            |val passengers = List("Bob Bobster", "Cal Calster", "Dan Danster")
        }
        @outblock() {
            |passengers: List[String] = List(Bob Bobster, Cal Calster, Dan Danster)
        }
    }
    <hr/>
    @snippet() {
        @callblock(reference = "map_passengers") {
            |passengers map { _.toUpperCase }
        }
        @outblock() {
            |res0: List[String] = List(BOB BOBSTER, CAL CALSTER, DAN DANSTER)
        }
    }
    <hr/>
    @snippet() {
        @callblock(reference = "map_passengers") {
            |passengers map { _.size }
        }
        @outblock() {
            |res1: List[Int] = List(11, 15, 11)
        }
    }
}


@slide(title = "flatMap") {
    <!--flatMap-->

    <div class="sidebyside p66_33">
        @sourcecode(fragment = false) {
            |trait Traversable[A] {
            |  def flatMap[B](f: A => Traversable[B]): Traversable[B]
            |}
        }
        @empty()
    </div>

    <hr/><hr/>

    @snippet(id = "flatmap_passengers") {
        @sourceblock() {
            |val passengers = List(List("Bob Bobster", "Cal Calster"),
            |                      List("Dan Danster", "Ed Edster"))
        }
        @outblock() {
            |passengers: List[List[String]] = List(List(Bob Bobster, Cal Calster),
            |                                      List(Dan Danster, Ed Edster))
        }
    }
    <hr/>
    @snippet() {
        @callblock(reference = "flatmap_passengers") {
            |passengers map { _ map { _.toUpperCase } }
        }
        @outblock() {
            |res0: List[String] = List(List(BOB BOBSTER, CAL CALSTER), List(DAN DANSTER, ED EDSTER))
        }
    }
    <hr/>
    @snippet() {
        @callblock(reference = "flatmap_passengers") {
            |passengers flatMap { _ map { _.size } }
        }
        @outblock() {
            |res1: List[Int] = List(11, 15, 11, 9)
        }
    }
    <hr/>
    @snippet() {
        @callblock(reference = "flatmap_passengers") {
            |passengers flatMap { _ map { _.toUpperCase } }
        }
        @outblock() {
            |res0: List[String] = List(BOB BOBSTER, CAL CALSTER, DAN DANSTER, ED EDSTER)
        }
    }
    <hr/>
    @snippet() {
        @callblock(reference = "flatmap_passengers") {
            |passengers flatMap { _ map { _.size } }
        }
        @outblock() {
            |res1: List[Int] = List(11, 15, 11, 9)
        }
    }
}


@slide(title = "filter") {
    <!--filter-->

    <div class="sidebyside p66_33">
        @sourcecode(fragment = false) {
            |trait Traversable[A] {
            |  def filter(f: A => Boolean): Traversable[A]
            |}
        }
        @empty()
    </div>

    <hr/><hr/>

    @snippet() {
        @sourceblock(id = "filter_passengers") {
            |val passengers = List("Bob Bobster", "Cal Calster", "Dan Bobster")
        }
        @outblock() {
            |passengers: List[String] = List(Bob Bobster, Cal Calster, Dan Bobster)
        }
    }
    <hr/>
    @snippet() {
        @callblock(reference = "filter_passengers") {
            |passengers filter { _ endsWith "Bobster" }
        }
        @outblock() {
            |res0: List[String] = List(Bob Bobster, Dan Bobster)
        }
    }
    <hr/>
    @snippet() {
        @callblock(reference = "filter_passengers") {
            |passengers filter { s => (s endsWith "Bobster") && (s startsWith "B") }
        }
        @outblock() {
            |res1: List[String] = List(Bob Bobster)
        }
    }
}


@slide(title = "foldLeft") {
    <!--foldLeft-->

    <div class="sidebyside p66_33">
        @sourcecode(fragment = false) {
            |trait Traversable[A] {
            |  def foldLeft[B](z: B)(f: (B, A) => B): B
            |}
        }
        @empty()
    </div>

    <hr/><hr/>

    @snippet() {
        @sourceblock(id = "foldLeft_nums") {
            |val nums = List(1, 2, 3, 4, 5)
        }
        @outblock() {
            |nums: List[Int] = List(1,2,3,4,5)
        }
    }
    <hr/>
    @snippet() {
        @callblock(reference = "foldLeft_nums") {
            |nums.foldLeft(0) { (total, n) =>
            |   total + n
            |}
        }
        @outblock() {
            |res0: Int = 15
        }
    }
    <hr/>
    @snippet() {
        @callblock(reference = "foldLeft_nums") {
            |nums.foldLeft(0)(_ + _)
        }
        @outblock() {
            |res1: Int = 15
        }
    }
}


@slide() {

    @snippet() {
        @sourceblock(id = "numbers5", fragment = false) {
            |val numbers = List(1, 2, 3, 4, 5)
        }
    }

    <hr/><hr/>

    @snippet() {
        @callblock(reference = "numbers5") {
            |numbers.foldLeft(0)((r, n) => r + n)
        }
        @outblock() {
            |res0: Int = 15
        }
    }

    <hr/><hr/>

    @snippet() {
        @callblock(reference = "numbers5") {
            |numbers.foldLeft(0) {
            |   (r, n) =>
            |      println("r: " + r + " n: " + n)
            |      r + n
            |}
        }
        @outblock() {
            |r: 0 n: 1
            |r: 1 n: 2
            |r: 3 n: 3
            |r: 6 n: 4
            |r: 10 n: 5
            |res1: Int = 15
        }
    }
}


@uebung("000") {

    Die Übung ist unter
        <code>/src/main/scala/de/learnscala/uebungen/<em>U311.scala</em></code>
    zu finden.

    <hr/>

    Die dazugehörige Testspezifikation unter
        <code>/src/test/scala/de/learnscala/specs/<var>U311.scala</var></code>.
}