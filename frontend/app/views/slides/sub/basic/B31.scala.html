@implicitSlide = @{ Content.interpolation }

@defining(implicitSlide.label) { implicit topic =>

    @layout.slidedeck(topic) {

        @slidehead() {
            @topic
        } {
        }

        <!-- ################################################################################## -->

        @headslide(title = "s") {
            <em>s</em>-Interpolation
        } {
            @spacer()

            @sidebyside(gap = 10) {
                @subhead() {
                    before
                }

                @snippet() {
                    @sourceblock() {
                        |class Person(val name: String,
                        |             val age: Int) {
                        |
                        |  override def toString =
                        |    name + “, “ + age + “ years old”
                        |}
                    }
                    @callblock() {
                        |val p = new Person("Bob", 42)
                    }
                    @outblock() {
                        |p: Person = Bob, 42 years old
                    }
                }

                @codesub2() {

                }
            } {
                @subhead() {
                    after
                }

                @snippet() {
                    @sourceblock() {
                        |class Person(val name: String,
                        |             val age: Int) {
                        |
                        |  override def toString =
                        |    s"$name, $age years old”
                        |}
                    }
                    @callblock() {
                        |val p = new Person("Bob", 42)
                    }
                    @outblock() {
                        |p: Person = Bob, 42 years old
                    }
                }
            }
        }

        <!-- ################################################################################## -->

        @headslide(title = "f") {
            <em>f</em>-Interpolation
        } {
            @spacer()

            @sidebyside(gap = 10) {
                @subhead() {
                    before
                }

                @snippet() {
                    @sourceblock() {
                        |class Person(val name: String,
                        |             val height: Float) {
                        |
                        |  override def toString =
                        |    String.format("%s, %1.2f meters”,
                        |                  name, height)
                        |}
                    }
                    @callblock() {
                        |val p = new Person("Bob", 1.9)
                    }
                    @outblock() {
                        |p: Person = Bob, 1.90 meters
                    }
                }
            } {
                @subhead() {
                    after
                }

                @snippet() {
                    @sourceblock() {
                        |class Person(val name: String,
                        |             val height: Float) {
                        |
                        |  override def toString =
                        |    f"$name, $age%1.2f meters”
                        |}
                    }
                    @callblock() {
                        |val p = new Person("Bob", 1.9)
                    }
                    @outblock() {
                        |p: Person = Bob, 1.90 meters
                    }
                }
                @codesub2() {
                    <em>Bonus:</em> typensicher !
                }
            }
        }

        <!-- ################################################################################## -->

        @headslide(title = "raw") {
            <em>raw</em>-Interpolation
        } {
            @spacer()

            @snippet() {
                @sourceblock() {
                    |s"a\nb"
                }
                @outblock() {
                    |res0: String =
                    |a
                    |b
                }
                @sourceblock() {
                    |raw"a\nb"
                }
                @outblock() {
                    |res0: String = a\nb
                }
            }
        }

        @defining("Eigene") { title =>

            <!-- ################################################################################## -->

            @headslide(title = title) {
                <em>eigene</em> Interpolation
            } {
                @spacer()

                @snippet() {
                    @sourceblock() {
                        |s"Hello $name"
                    }
                }
                @iseq()
                @snippet() {
                    @sourceblock() {
                        |StringContext("Hello ").s(name)
                    }
                }

                @spacer2()

                @snippet() {
                    @sourceblock() {
                        |f"Hello $name1 & $name2"
                    }
                }
                @iseq()
                @snippet() {
                    @sourceblock() {
                        |StringContext("Hello ", " & ").f(name1, name2)
                    }
                }
            }

            <!-- ################################################################################## -->

            @headslide(title = title) {
                <em>eigene</em> Interpolation
            } {
                @spacer()

                @snippet() {
                    @sourceblock(id = "xmlinterpol") {
                        |class XmlHelper(val sc: StringContext) extends AnyVal {
                        |  def xml(args: Any*) =
                        |    scala.xml.XML.load(scala.xml.Source.fromString(sc.s(args)))
                        |}
                    }
                    @sourceblock() {
                        |implicit final def sc2xmlhelper(val sc: StringContext) =
                        |   new XmlHelper(n)
                    }
                }

                @spacer()

                @snippet() {
                    @callblock(reference = "xmlinterpol") {
                        |xml"&lt;node&gt; ${1 + 1} &lt;/node&gt;"
                    }
                    @outblock() {
                        |res0: XML = TODO
                    }
                }
            }
        }
    }
}