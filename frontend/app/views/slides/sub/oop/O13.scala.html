<!--
    - deep import
    - Sub-Packages ?
    - Super-Packages ?
-->
@defining("Pakete") { implicit topic =>

    @layout.slidedeck(topic) {

        @slidehead() {
            @topic
        } {

        }

        <!-- ################################################################################## -->

        @defining("Anlegen") { title =>

            @slide(title = title) {

                    @sourcecode() {
                        |package de.learnscala
                        |
                        |class Plane
                    }

                    @codesub2() {
                        Klasse <code>Plane</code> wird in dem Paket
                        <code>de.learnscala</code> platziert
                    }

                @spacer()


                    @sourcecode() {
                        |package de.learnscala
                        |
                        |class Pilot
                        |class Stewardess
                    }

                    @codesub2() {
                        beliebig viele Klassen können in einem Paket platziert werden
                    }


                @spacer()


                    @sourcecode() {
                        |// file: src/main/scala/Plane.scala
                        |package de.learnscala
                        |
                        |class Plane
                    }

                    @codesub2() {
                        Dateipfad und Paketpfad müssen nicht übereinstimmen
                    }

            }

            <!-- ################################################################################## -->

            @slide(title = title) {

                @sourcecode() {
                    |package de.learnscala {
                    |  class Plane
                    |}
                }

                @spacer()

                @sourcecode() {
                    |package de {
                    |   package learnscala {
                    |      class Plane
                    |   }
                    |}
                }

                @spacer()

                @sourcecode() {
                    |package de.learnscala {
                    |   class Plane
                    |
                    |   package test {
                    |       class PlaneTest
                    |   }
                    |}
                }
            }

            <!-- ################################################################################## -->

            @slide(title = title, subtitle = "Sichtbarkeit") {

                    @sourcecode() {
                        |package de.learnscala.crew
                        |
                        |class private[learnscala] Plane
                    }

                    @codesub2() {
                        beschränkt den Zugriff auf
                        das Paket <code>learnscala</code> <comment class="nobreak">(und dessen Unterpakete)</comment>
                    }

                @spacer2()

                    @sourcecode() {
                        |package de.learnscala.crew
                        |
                        |class private[crew] Pilot
                    }

                    @codesub2() {
                        beschränkt den Zugriff auf
                        das Paket <code>crew</code> <comment class="nobreak">(und dessen Unterpakete)</comment>
                    }
            }

            <!-- ################################################################################## -->

            @slide(title = title, subtitle = "Package Object") {

                    @sourcecode() {
                        |// file "package.scala"
                        |package object util {
                        |
                        |  val wingsPerPlane = 2
                        |
                        |  def sufficientFuel(f: Float) = {
                        |    if(f == 0.0)
                        |      throw new RuntimeException("Not enough fuel!")
                        |  }
                        |}
                    }

                    @codesub2() {
                        Package Object kann Methoden und Variablen enthalten
                    }

                @spacer()

                    @sourcecode() {
                        |package scala
                        |
                        |package object math extends MathCommon {
                        |
                        |  def sinh(x: Double): Double = java.lang.Math.sinh(x)
                        |  def cosh(x: Double): Double = java.lang.Math.cosh(x)
                        |  def tanh(x: Double): Double = java.lang.Math.tanh(x)
                        |  // ...
                        |}
                    }

                    @codesub2() {
                        Package Object <code>math</code> von Scala
                    }
            }
        }

        <!-- ################################################################################## -->

        @defining("Importieren") { title =>

            @slide(title = title) {

                    @sourcecode() {
                        |import de.learnscala.crew.Pilot
                    }

                    @codesub2() {
                        importiert <em>1</em> Klasse namens <code>Pilot</code>
                    }

                @spacer()

                    @sourcecode() {
                        |import de.learnscala.crew.{Pilot, CoPilot}
                    }

                    @codesub2() {
                        importiert die <em>2</em> Klassen <code>Pilot</code> und <code>CoPilot</code>
                    }

                @spacer()

                    @sourcecode() {
                        |import de.learnscala.crew._
                    }

                    @codesub2() {
                        Wildcard <code>_</code> importiert <em>alles</em>
                    }

                @spacer()

                    @sourcecode() {
                        |import java.util.Date, java.sql.{Date => SqlDate}
                    }

                    @codesub2() {
                        <code>Date</code> wird in <code>SqlDate</code> umbenannt
                    }

                @spacer()

                    @sourcecode() {
                        |import java.util.{Date => _, _}
                    }

                    @codesub2() {
                        <code>Date</code> wird in <code>SqlDate</code> umbenannt
                    }

                @*@infobox() {
                    Mit Hilfe von <code>import</code> können einzelne, mehrere oder alle Klassen eines Paketes geladen werden.
                }*@
            }

            <!-- ################################################################################## -->

            @*@slide(title = title, subtitle = "Umbenennung") {

                @sidebyside((66,33)) {
                    @sourcecode() {
                        |import de.learnscala.cabin.{Seat => CabinSeat}
                        |import de.learnscala.cockpit.{Seat => CockpitSeat}
                    }
                } {
                    @codesub() {
                        <code>Seat</code> ist jeweils in den Paketen <code>cabin</code> bzw. <code>cockpit</code>
                        definiert und wird beim Import entsprechend umbenannt
                    }
                }

                @sidebyside((66,33)) {

                } {
                    @codesub() {
                        <code>Date</code> ist jeweils in den Paketen <code>util</code> bzw. <code>sql</code> -
                        daher bekommt letzteres einen anderen Namen
                    }
                }

                @spacer()

                @infobox() {
                    Klassen können beim Import umbenannt werden, um Namenskonflikte zu verhindern.
                }
            }*@

            <!-- ################################################################################## -->

            @slide(title = title, subtitle = "relativ") {

                    @sourcecode() {
                        |package de.learnscala
                        |
                        |import crew.Pilot
                    }

                    @codesub2() {
                        Importiert <code>Pilot</code> aus <code>de.learnscala.crew</code>
                    }


                @spacer()

                    @sourcecode() {
                        |package de.learnscala
                        |
                        |import de.learnscala.crew.Pilot
                    }

                    @codesub2() {
                        Importiert <code>Pilot</code> aus <code>de.learnscala.crew</code>
                    }


                @spacer()

                    @sourcecode() {
                        |package de.learnscala
                        |
                        |import _root.de.learnscala.crew.Pilot
                    }

                    @codesub2() {
                        Importiert <code>Pilot</code> aus <code>de.learnscala.crew</code>
                    }


                @spacer()

                @*@infobox() {
                    Der Compiler löst Importe zunächst relativ auf (außer es steht <code>_root_</code> am Anfang)
                    - wird er nicht fündig, versucht er es als absolute Angabe.
                }*@
            }

            <!-- ################################################################################## -->

            @slide(title = title, subtitle = "in Blöcken") {

                @sourcecode() {
                    |package de.learnscala
                    |
                    |class Plane {
                    |
                    |   def fly() {
                    |       import crew.Pilot
                    |       // ...
                    |   }
                    |
                    |   def clean() {
                    |       import crew.Stewardess
                    |       // ...
                    |   }
                    |}
                }

                @codesub2() {
                    Import kann überall im Code eingefügt werden
                }
            }

            <!-- ################################################################################## -->

            @slide(title = title, subtitle = "implizit") {

                    @snippet() {
                        @callblock() {
                            |val e = new RuntimeException("pilot asleep")
                        }
                        @outblock() {
                            |e: java.lang.RuntimeException = RuntimeException: pilot asleep
                        }
                    }
                    @codesub2() {
                        Zugriff auf Klasse <code>RuntimeException</code> aus Paket <code>java.lang</code>
                    }

                @spacer2()

                    @snippet() {
                        @callblock() {
                            |val p = math.Pi
                        }
                        @outblock() {
                            |p: Double = 3.141592653589793
                        }
                    }

                    @codesub2() {
                        Zugriff auf Variable <code>Pi</code> aus Paket <code>scala.math</code>
                    }


                @spacer2()

                @*@infobox() {
                    Neben dem <code>Predef</code>-Objekt werden für jede Datei automatisch die Pakete
                    <code>java.lang</code> und <code>scala</code> importiert.
                }*@
            }
        }

        <!-- ################################################################################## -->

        @uebung("030") {
            Die Übung ist unter
                <code>/src/main/scala/de/learnscala/uebungen/<em>U121.scala</em></code>
            zu finden.

            @spacer()

            Die dazugehörige Testspezifikation unter
                <code>/src/test/scala/de/learnscala/specs/<var>S121.scala</var></code>.
        }
    }
}