@defining("Klassen I") { implicit topic =>

    @layout.slidedeck(topic) {

        @slidehead() {
            @topic
        } {

        }

        <!-- ################################################################################## -->

        @slide(title = "Definition") {

            @sidebyside() {
                @snippet() {
                    @callblock(id = "plane") {
                        |class Employee
                    }
                    @outblock() {
                        |defined class Employee
                    }
                }
            } {
                <ul class="indent30">
                    <li class="fragment">
                        <code>class</code> leitet eine Klasse ein
                    </li>
                    <li class="fragment">
                        <code>Employee</code> ist der Name der Klasse
                    </li>
                    <li class="fragment">
                        <code>{ }</code> sind nicht nötig bei leerem Rumpf
                    </li>
                </ul>
            }

            @spacer2()

            @sidebyside() {
                @snippet() {
                    @callblock(reference = "plane") {
                        |new Employee()
                    }
                    @outblock() {
                        |res0: Employee = Employee@@3ee32abc
                    }
                }
            } {
                @snippet() {
                    @callblock() {
                        |new Employee
                    }
                    @outblock() {
                        |res0: Employee = Employee@@50394ec
                    }
                }
            }
            @codesub2() {
                <code>new</code> erstellt eine neue Instanz
            }

            @*@infobox(hr = false) {
                <code>class</code> definiert eine Klasse, sie ist standardmäßig öffentlich.
                <code>new</code> erstellt eine Instanz.
            }*@
        }

        <!-- ################################################################################## -->

        @defining("Konstuktor") { title =>

            @slide(title = title, subtitle = "primär") {

                @snippet() {
                    @sourceblock() {
                        |class Employee (name: String)
                    }
                    @outblock() {
                        |defined class Employee
                    }
                    @callblock() {
                        |val e = new Employee ("Bob")
                    }
                    @outblock() {
                        |e: Employee = Employee@@3ee32abc
                    }
                }
                @codesub2() {
                    Klassenparameter ähnlich den Methodenparametern
                }

                @spacer()

                @snippet() {
                    @sourceblock() {
                        |class Employee (name: String) {
                        |
                        |   println ("My name is " + name)
                        |}
                    }
                    @outblock() {
                        |defined class Employee
                    }
                    @callblock() {
                        |val e = new Employee ("Bob")
                    }
                    @outblock() {
                        |My name is Bob
                        |e: Employee = Employee@@3ee32abc
                    }
                }
                @codesub2() {
                    Anweisungen im Rumpf werden bei der Initialisierung ausgeführt
                }

                @*@infobox() {
                    Der primäre Konstruktor <comment>("primary constructor")</comment>
                    entsteht aus <br/> den Parametern einer Klasse sowie deren Anweisungen im Rumpf.
                }*@
            }

            <!-- ################################################################################## -->

            @slide(title = title, subtitle = "sekundär") {

                @snippet() {
                    @sourceblock() {
                        |class Employee (name: String, age: Int) {
                        |
                        |  def this =
                        |    this ("Unknown", -1)
                        |
                        |  def this (firstname: String, lastname: String, age: Int) =
                        |    this (firstname + " " + lastname, age)
                        |}
                    }
                    @callblock() {
                        |val e = new Employee ("Bob", "Bobster", 35)
                    }
                }
                @codesub2() {
                    zusätzliche Konstruktoren tragen den Namen <code>this</code>
                }

                @spacer()

                @snippet() {
                    @sourceblock() {
                        |class Employee (name: String, age: Int) {
                        |
                        |  def this =
                        |     println ("initialized")
                        |}
                    }
                    @outblock(error = true) {
                        |error: 'this' expected but identifier found
                    }
                }
                @codesub2() {
                    erste Anweisung muss einen zuvor definierten Konstruktor aufrufen
                }

                @*
                @infobox() {
                    <code>def this</code> leitet einen Konstruktor ein, <code>this(..)</code> ruft ihn auf.
                }

                @warnbox(hr = false) {
                    Ein zusätzlicher Konstruktor <comment>("auxiliary constructor")</comment>
                    muss stets als erste Anweisung einen vor ihm definierten Konstruktor aufrufen.
                }
                *@
            }
        }

        <!-- ################################################################################## -->

        @slide(title = "var & val") {

            @sidebyside(gap = 10) {
                @snippet(id = "empl") {
                    @sourceblock() {
                        |class Employee (val name: String,
                        |                var age: Int) {
                        |
                        |   val salary = 40000
                        |}
                    }
                }

                @spacer()

                @outcode(lang = "java") {
                   |public class Employee extends [...] {
                   |
                   |    private final String name;
                   |    public String name();      // get
                   |
                   |    private final int salary;
                   |    public int salary();       // get
                   |
                   |    private int age;
                   |    public int age();          // get
                   |    public void age_$eq(int);  // set
                   |}
                }

                @codesub2() {
                    <code>val</code> erhält eine Get-Methode,<br/>
                    <code>var</code> erhält Get- <strong>und</strong> Set-Methoden

                    @*Scala generiert überschreibbare, öffentliche Zugriffsmethoden:<br/>*@
                }
            } {
                @spacer()

                @snippet() {
                    @callblock(reference = "empl") {
                        |val e = new Employee ("Bob", 35)
                    }
                    @outblock() {
                        |e: Employee = Employee@@53a1d1a8
                    }
                    @callblock() {
                        |println (e.name)
                    }
                    @outblock() {
                        |Bob
                    }
                    @callblock() {
                        |println (e.salary)
                    }
                    @outblock() {
                        |40000
                    }
                    @callblock(reference = "empl") {
                        |e.age = e.age - 1
                    }
                    @outblock() {
                        |e.age: Int = 34
                    }
                }
            }
        }

        <!-- ################################################################################## -->

        @slide(title = "Sichtbarkeit") {

            @codesplits((60,40)){
                @splitstart() {
                    |class Employee @("{")
                }{
                    <em>Zugriff möglich von:</em>
                }
                @codesplit() {
                    |                 val name = "Bob"
                } {
                    @li{überall}
                }
                @codesplit() {
                    |  protected      val nickname = "Bobby"
                } {
                    @li{<code>Employee</code> und Sub-Klassen}
                }
                @codesplit() {
                    |  private        val salary = 45000
                } {
                    @li{<code>Employee</code>}
                }
                @codesplit() {
                    |  private[this]  val password = "123456"
                } {
                    @li{<code>Employee</code>-Instanz}
                }
                @splitend() {
                    |@("}")
                }(null)
            }

            @*@infobox() {
                Felder einer Klasse sind standardmäßig öffentlich - der Zugriff wird <br/>
                &nbsp;via <code>protected</code> auf Sub-Klassen, <br/>
                &nbsp;via <code>private</code> auf die Klasse und <br/>
                &nbsp;via <code>private[this]</code> auf die Instanz begrenzt.
            }*@
        }

        <!-- ################################################################################## -->

        @slide() {
            <!-- Methoden -->

            @sidebyside(gap = 5) {
                @snippet() {
                    @sourceblock(id = "empl2") {
                        |class Employee {
                        |
                        |  private var isPresent = false
                        |
                        |  def clockIn() {
                        |    isPresent = true
                        |    println("Hi! I clocked in.")
                        |  }
                        |
                        |  def clockOut() {
                        |    isPresent = false
                        |    println("I clocked out. Bye!")
                        |  }
                        |
                        |  def isInTheOffice = isPresent
                        |}
                    }
                }
            } {
                @spacer()

                @snippet() {
                    @callblock(reference = "empl2") {
                        |val e = new Employee
                    }
                    @outblock() {
                        |e: Employee = Employee@@2142115
                    }
                    @callblock() {
                        |e.clockIn()
                    }
                    @outblock() {
                        |Hi! I clocked in.
                    }
                    @callblock() {
                        |val atOffice = e.isInTheOffice
                    }
                    @outblock() {
                        |atOffice: Boolean = true
                    }
                    @callblock() {
                        |e.clockOut()
                    }
                    @outblock() {
                        |I clocked out. Bye!
                    }
                }
            }

            @*@infobox() {
                Methoden einer Klasse sind standardmäßig öffentlich, <br/>
                bei nur lesenden Methoden sollte <code>()</code> weggelassen werden.
            }*@
        }

        <!-- ################################################################################## -->

        @uebung("030") {
            Die Übung ist unter
                <code>/src/main/scala/de/learnscala/uebungen/<em>U100.scala</em></code>
            zu finden.

            @spacer()

            Die dazugehörige Testspezifikation unter
                <code>/src/test/scala/de/learnscala/specs/<var>S100.scala</var></code>.
        }
    }
}